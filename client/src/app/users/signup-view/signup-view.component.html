<div class="view users-view signup-view">
  <form [formGroup]="signupForm" class="form-group" (ngSubmit)="onSubmit()" #f="ngForm">
    <h1>Create an account.</h1>
    <mat-form-field>
      <input matInput placeholder="Firstname" formControlName="first_name" required minlength="4">
      <mat-error *ngIf="signupForm.get('first_name').errors?.required">Your firstname is required</mat-error>
      <mat-error *ngIf="signupForm.get('first_name').errors?.minlength">A first name must atleast have 4 letters</mat-error>
      <mat-error *ngIf="signupForm.get('first_name').errors?.serverError">
          {{ signupForm.get('first_name').errors?.serverError[0] }}
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Lastname" formControlName="last_name" required minlength="4">
      <mat-error *ngIf="signupForm.get('last_name').errors?.required">Your lastname is required</mat-error>
      <mat-error *ngIf="signupForm.get('last_name').errors?.minlength">A last name must atleast have 4 letters</mat-error>
      <mat-error *ngIf="signupForm.get('last_name').errors?.serverError">
          {{ signupForm.get('last_name').errors?.serverError[0] }}
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput type="email" placeholder="Email" formControlName="email" required>
      <mat-error *ngIf="signupForm.get('email').errors?.required">Your email is required</mat-error>
      <mat-error *ngIf="signupForm.get('email').errors?.email">Please enter a valid email</mat-error>
      <mat-error *ngIf="signupForm.get('email').errors?.serverError">
          {{ signupForm.get('email').errors?.serverError[0] }}
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput type="password" placeholder="Password" formControlName="password" required>
      <mat-error *ngIf="signupForm.get('password').errors?.required">A password is required</mat-error>
      <mat-error *ngIf="signupForm.get('password').errors?.minlength">A password must atleast have 8 characters</mat-error>
      <mat-error *ngIf="signupForm.get('password').errors?.serverError">
          {{ signupForm.get('password').errors?.serverError[0] }}
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput type="password" placeholder="Confirm Password" formControlName="password2" required>
      <mat-error *ngIf="signupForm.get('password2').errors?.required">Please confirm your password</mat-error>
      <mat-error *ngIf="signupForm.get('password2').errors?.mustMatch">Passwords did not match</mat-error>
      <mat-error *ngIf="signupForm.get('password2').errors?.serverError">
          {{ signupForm.get('password2').errors?.serverError[0] }}
      </mat-error>
    </mat-form-field>

    <div class="spinner-wrapper" [class.submitted]="submitted"><mat-spinner [diameter]="25"></mat-spinner></div>
    <button mat-flat-button color="primary" type="submit" class="btn" [disabled]="submitted">Submit</button>
    <a mat-stroked-button color="warm" class="btn login-link" routerLink="/login">Login</a>
  </form>
</div>
